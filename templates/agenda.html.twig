{% extends 'base_template.html.twig' %}

{% block title %}Agendas -
	{{ constant('WEBSITE_TITLE')}}
{% endblock %}


{% block content %}
{# {{ dump(agendas) }} #}
<main class="">
    <div class="container  h-100">
        <!-- Affichage des messages -->
        {% if message %}
        <div class="row justify-content-center h-100">
            <div class="col-md-8 h-100">
                <div class="alert alert-success alert-dismissible fade show h-100" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Liste des agendas -->
        {% if agendas|length > 0 %}
        <div class="row justify-content-center mt-4 h-25">
            <div class="col-md-8">
                <h4 class="text-center mb-4">Liste des agendas</h4>
                <ul class="list-group">
                    {% for agenda in agendas %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>
                            <strong>Nom :</strong> {{ agenda.nom }} <br>
                            <strong>URL :</strong> {{ agenda.url }} <br>
                            <strong>Couleur :</strong> <span style="color: {{ agenda.couleur }}">{{ agenda.couleur }}</span>
                        </span>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% else %}
        <div class="row justify-content-center mt-4 h-25">
            <div class="col-md-8">
                <div class="alert alert-info text-center" role="alert">
                    Aucun agenda trouv√©. Ajoutez-en un ci-dessous.
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Formulaire d'ajout d'agenda -->
        <div class="row justify-content-center mt-5 h-75">
            <div class="col-md-6">
                <h4 class="text-center mb-4">Ajouter un agenda</h4>
                <form action="index.php?controleur=agenda&methode=ajouterAgenda" method="post">
                    <div class="mb-3">
                        <label for="url" class="form-label">URL</label>
                        <input type="text" name="url" class="form-control" id="url" required placeholder="Entrez une URL valide">
                    </div>
                    <div class="mb-3">
                        <label for="couleur" class="form-label">Couleur</label>
                        <input type="text" name="couleur" class="form-control" id="couleur" required placeholder="Entrez la couleur (par ex. #FF5733)">
                    </div>
                    <div class="mb-3">
                        <label for="nom" class="form-label">Nom</label>
                        <input type="text" name="nom" class="form-control" id="nom" required placeholder="Entrez un nom">
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Ajouter</button>
                </form>
            </div>
        </div>
    </div>
</main>

{% endblock %}



